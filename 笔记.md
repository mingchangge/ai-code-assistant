- 项目强制使用 ESM（package.json 中有 "type": "module"），如果使用 CommonJS导出的插件会报错，可以使用以下方式导入：
  - 使用 createRequire,推荐,是目前最稳定、同步、兼容 Node.js ESM 的方式

    ```
    import { createRequire } from 'module'
    const require = createRequire(import.meta.url)
    const monacoEditorPlugin = require('vite-plugin-monaco-editor').default
    ```

    如果ts代码使用了比较严格的类型检查，可能会报错，需要添加类型断言：

    ```
    // 让 Node 在 ESM 中也能同步 require CJS 模块
    const require = createRequire(import.meta.url)
    // 1. 先断言整个模块
    const _monacoEditorPluginMod = require('vite-plugin-monaco-editor') as {
      default: (opts?: PluginOptions) => Plugin
    }
    // 2.取出真正的插件函数并再断言一次
    type PluginOptions = {
      languageWorkers?: string[]
      customWorkers?: Array<{ label: string; entry: string }>
      publicPath?: string
    }
    // 3. 再断言真正的函数
    const monacoEditorPlugin = _monacoEditorPluginMod.default as (
      opts?: PluginOptions
    ) => Plugin
    ```

  - 动态导入

    ```
    const monacoEditorPlugin = await import('vite-plugin-monaco-editor').then((mod) => mod.default)
    ```
